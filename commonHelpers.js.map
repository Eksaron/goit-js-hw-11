{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["async function fetchImages(query) {\n  const apiKey = '44064586-c85ee0d0f4282a04fbc0070f7';\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${encodeURIComponent(\n    query\n  )}&image_type=photo&orientation=horizontal&safesearch=true`;\n  console.log('url', url);\n  try {\n    const response = await fetch(url);\n    const json = await response.json();\n    return json;\n  } catch (error) {\n    throw error;\n  }\n}\nexport default fetchImages;\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nfunction renderImages(images) {\n  const gallery = document.getElementById('gallery');\n  gallery.innerHTML = '';\n  if (images.length === 0) {\n    return iziToast.error({\n      message: `Sorry, there are no images matching your search. Please try again!`,\n    });\n  }\n  const galleryHtml = images\n    .map(img => {\n      return `\n        <li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${img.largeImageURL}\"><img src=\"${img.webformatURL}\" alt=\"${img.tags}\"></a>\n            <ul class=\"item-info\">\n              <li><h3>Likes</h3><p>${img.likes}</p></li>\n              <li><h3>Views</h3><p>${img.views}</p></li> \n              <li><h3>Comments</h3><p>${img.comments}</p></li> \n              <li><h3>Downloads</h3><p>${img.downloads}</p></li> \n            </ul> \n        </li>\n    `;\n    })\n    .join('');\n  gallery.innerHTML = `<ul class=\"gallery\">${galleryHtml}</ul>`;\n\n  var lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 300,\n  });\n}\n\nexport default renderImages;\n","'use strict';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport fetchImages from './js/pixabay-api';\nimport renderImages from './js/render-functions';\n\nconst form = document.getElementById('searchForm');\nconst input = document.getElementById('searchInput');\nconst loader = document.getElementById('loader');\n\nform.addEventListener('submit', async event => {\n  event.preventDefault();\n\n  const query = input.value.trim();\n  if (query === '') {\n    iziToast.error({\n      title: 'Error:',\n      message: 'Please enter a search term.',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  try {\n    loader.style.display = 'block';\n    const response = await fetchImages(query);\n    const images = response.hits;\n    renderImages(images);\n  } catch (error) {\n    iziToast.error({\n      title: 'Error:',\n      message:\n        'An error occurred while fetching images. Please try again later.',\n    });\n  } finally {\n    loader.style.display = 'none';\n    form.reset(); //clear form\n  }\n  return;\n});\n"],"names":["fetchImages","query","url","error","renderImages","images","gallery","galleryHtml","img","SimpleLightbox","form","input","loader","event","iziToast"],"mappings":"wvBAAA,eAAeA,EAAYC,EAAO,CAEhC,MAAMC,EAAM,qEAA4C,mBACtDD,CACD,CAAA,2DACD,QAAQ,IAAI,MAAOC,CAAG,EACtB,GAAI,CAGF,OADa,MADI,MAAM,MAAMA,CAAG,GACJ,MAE7B,OAAQC,EAAO,CACd,MAAMA,CACP,CACH,CCVA,SAASC,EAAaC,EAAQ,CAC5B,MAAMC,EAAU,SAAS,eAAe,SAAS,EAEjD,GADAA,EAAQ,UAAY,GAChBD,EAAO,SAAW,EACpB,OAAO,SAAS,MAAM,CACpB,QAAS,oEACf,CAAK,EAEH,MAAME,EAAcF,EACjB,IAAIG,GACI;AAAA;AAAA,0CAE6BA,EAAI,aAAa,eAAeA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA,qCAEvEA,EAAI,KAAK;AAAA,qCACTA,EAAI,KAAK;AAAA,wCACNA,EAAI,QAAQ;AAAA,yCACXA,EAAI,SAAS;AAAA;AAAA;AAAA,KAIjD,EACA,KAAK,EAAE,EACVF,EAAQ,UAAY,uBAAuBC,CAAW,QAEvC,IAAIE,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAClB,CAAG,CACH,CCxBA,MAAMC,EAAO,SAAS,eAAe,YAAY,EAC3CC,EAAQ,SAAS,eAAe,aAAa,EAC7CC,EAAS,SAAS,eAAe,QAAQ,EAE/CF,EAAK,iBAAiB,SAAU,MAAMG,GAAS,CAC7CA,EAAM,eAAc,EAEpB,MAAMZ,EAAQU,EAAM,MAAM,KAAI,EAC9B,GAAIV,IAAU,GAAI,CAChBa,EAAS,MAAM,CACb,MAAO,SACP,QAAS,8BACT,SAAU,UAChB,CAAK,EACD,MACD,CAED,GAAI,CACFF,EAAO,MAAM,QAAU,QAEvB,MAAMP,GADW,MAAML,EAAYC,CAAK,GAChB,KACxBG,EAAaC,CAAM,CACpB,MAAe,CACdS,EAAS,MAAM,CACb,MAAO,SACP,QACE,kEACR,CAAK,CACL,QAAY,CACRF,EAAO,MAAM,QAAU,OACvBF,EAAK,MAAK,CACX,CAEH,CAAC"}